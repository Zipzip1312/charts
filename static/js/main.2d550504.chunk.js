(this.webpackJsonpcharts=this.webpackJsonpcharts||[]).push([[0],{160:function(t,e,a){},161:function(t,e,a){},218:function(t,e,a){var n={"./AmplitudeDataSchema.json":219};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=218},219:function(t){t.exports=JSON.parse('{"type":"object","properties":{"total":{"type":"integer"},"Android":{"type":"integer"},"iOS":{"type":"integer"},"platforms":{"type":"array","items":{"type":"string"}},"months":{"type":"array","items":{"type":"string"}},"dataByMonths":{"type":"object","items":{"type":"object","properties":{"Android":{"type":"array"},"iOS":{"type":"array"}}}}},"required":["total","Android","iOS","platforms","months","dataByMonths"]}')},328:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),c=(a(160),a(161),a(47)),i=a(363),l=a(365),d=a(384),j=a(366),p=a(142),u=a.n(p),m=a(6),b=a(93),O=a.n(b),f=a(139),h=a(69),g=a(140),x=a.n(g).a.create({baseURL:"https://moble.epicentrk.ua/api/",headers:{"content-type":"application/json"},responseType:"json"});x.interceptors.request.use((function(t){var e=localStorage.getItem("amp_code");return e&&(t.url+="/".concat(e)),t}),(function(t){return Promise.reject(t)}));var y,v=x,S={total:0,Android:0,iOS:0,months:[],dataByMonths:{Android:[],iOS:[]}},w={total:(y=S).total,Android:y.Android,iOS:y.iOS,days:0},B=S,A=a(141),N=a.n(A);var M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Amplitude",n=new N.a,r=a(218)("./".concat(e,"DataSchema.json")),o=n.compile(r);for(var s in t)if(Object.hasOwnProperty.call(t,s)&&!o(t[s]))throw new Error("".concat(e," Update Error! Try again later"))},I=a(72);var C=function(t){return JSON.parse(JSON.stringify(t))};var D=function(t){var e=C(B);for(var a in t){var n,r,o;if(Object.hasOwnProperty.call(t,a))e.total+=t[a].total,e.Android+=t[a].Android,e.iOS+=t[a].iOS,(n=e.months).push.apply(n,Object(I.a)(t[a].months)),(r=e.dataByMonths.Android).push.apply(r,Object(I.a)(t[a].dataByMonths.Android)),(o=e.dataByMonths.iOS).push.apply(o,Object(I.a)(t[a].dataByMonths.iOS))}return e},k=function(t){var e=new Date(t).toDateString().split(" "),a=Object(c.a)(e,4),n=(a[0],a[1]);return a[2]+" "+n+" "+a[3]},E=Object(h.b)({name:"app",initialState:{code:"",pending:!0,isLoggedIn:!1,data:B,dataByYears:{},dataType:"downloads",filterByYear:"total",increments:w,lastUpdateDate:null,serverError:!1,serverErrorMessage:""},reducers:{setCode:function(t,e){t.code=e.payload,localStorage.setItem("amp_code",e.payload)},setPending:function(t,e){t.pending=e.payload},setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload},setData:function(t,e){var a=e.payload;t.data=D(a.data),t.dataByYears=a.data;var n=k(new Date);t.lastUpdateDate=n,localStorage.setItem("amp_last_".concat(a.type),n)},setDataType:function(t,e){t.dataType=e.payload},setIncrements:function(t,e){t.increments=e.payload},resetIncrements:function(t){t.increments=w},getDataByYear:function(t,e){var a=e.payload;a in t.dataByYears?t.data=t.dataByYears[a]:t.data=D(t.dataByYears),t.filterByYear=a},handleServerError:function(t,e){t.serverError=!0,t.serverErrorMessage=e.payload;var a=JSON.parse(localStorage.getItem("former_".concat(t.dataType,"_data")));a&&(t.data=a,t.isLoggedIn=!0,t.lastUpdateDate=localStorage.getItem("amp_last_".concat(t.dataType)))},removeServerError:function(t){t.serverError=!1,t.serverErrorMessage=""}}}),T=E.actions,Y=(T.setCode,T.setPending),_=T.setIsLoggedIn,L=T.setData,F=T.setIncrements,P=(T.resetIncrements,T.getDataByYear),H=T.setDataType,W=T.handleServerError,J=T.removeServerError,U=E.reducer;function z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"downloads";return function(){var e=Object(f.a)(O.a.mark((function e(a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(a,t),e.prev=1,e.next=4,v.get("app-".concat(t));case 4:n=e.sent,M(n.data),a(L({data:n.data,type:t})),a(_(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),q(a,e.t0);case 13:return e.prev=13,a(Y(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()}function R(t,e){t(Y(!0)),t(H(e)),t(J())}function q(t,e){if(e.response&&403===e.response.status)t(_(!1));else{var a=e.message;a.includes("429")&&(a="\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c! \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443"),a.includes("Network Error")&&(a="\u041d\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443"),t(W(a))}}var Z=a(2),G=Object(i.a)((function(t){return{root:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"},input:{fontSize:32,width:190,marginRight:10},buttonWrapper:{position:"relative","& > button":{padding:"13px 26px"}}}}));function V(){var t=G(),e=Object(n.useState)(""),a=Object(c.a)(e,2),r=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),p=i[0],b=i[1],O=Object(m.b)(),f=function(){localStorage.setItem("amp_code",r),O(z())};return Object(Z.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:f,children:[Object(Z.jsx)(l.a,{children:Object(Z.jsx)(d.a,{className:t.input,placeholder:"CODE",value:r,onChange:function(t){var e=t.target.value;o(e),b(10===e.length)},autoFocus:!0,required:!0})}),Object(Z.jsx)("div",{className:t.buttonWrapper,children:Object(Z.jsx)(j.a,{variant:"contained",color:"primary",disabled:!p,onClick:f,type:"submit",children:Object(Z.jsx)(u.a,{})})})]})}var X=a(151),K=a(71),Q=a(70),$=a(367),tt=a(368),et=a(369),at=a(94),nt=a.n(at),rt=a(143),ot=a.n(rt),st=a(144),ct=a.n(st),it=a(145),lt=a.n(it),dt=a(146),jt=a.n(dt),pt=Object(X.a)({palette:{primary:{main:"#0071d3"},success:{main:K.a[800]},warning:{main:Q.a[800]},platforms:{total:$.a[500],Android:tt.a[500],iOS:et.a[500]}},icons:{total:Object(Z.jsx)(nt.a,{}),Android:Object(Z.jsx)(ot.a,{}),iOS:Object(Z.jsx)(ct.a,{}),downloads:Object(Z.jsx)(nt.a,{}),active:Object(Z.jsx)(lt.a,{}),sales:Object(Z.jsx)(jt.a,{})}}),ut=a(370),mt=a(382),bt=a(371),Ot=Object(i.a)({root:{flexGrow:1,margin:"auto auto 1em"},tab:{minHeight:50,"& .MuiTab-wrapper":{flexDirection:"row",alignItems:"flex-start"}}});function ft(){var t=Ot(),e=Object(m.c)((function(t){return t.app.dataType})),a=Object(m.b)();return Object(Z.jsx)(ut.a,{className:t.root,children:Object(Z.jsx)(mt.a,{value:e,onChange:function(t,e){a(z(e))},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"navigation",children:["downloads","active","sales"].map((function(t,e){return Object(Z.jsx)(bt.a,{icon:pt.icons[t],value:t,label:t},e)}))})})}var ht=a(372),gt=Object(i.a)((function(t){return{progress:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}}}));function xt(){var t=gt(),e=Object(m.c)((function(t){return t.app.isLoggedIn}));return Object(Z.jsxs)(Z.Fragment,{children:[e&&Object(Z.jsx)(ft,{}),Object(Z.jsx)("div",{className:t.progress,children:Object(Z.jsx)(ht.a,{})})]})}var yt=a(147),vt=a.n(yt),St=Object(i.a)({root:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:Q.a[900]},icon:{fontSize:100},message:{fontSize:30,marginTop:30}});function wt(){var t=St(),e=Object(m.c)((function(t){return t.app.serverErrorMessage}));return Object(Z.jsxs)("div",{className:t.root,children:[Object(Z.jsx)(vt.a,{className:t.icon}),Object(Z.jsx)("div",{className:t.message,children:e})]})}var Bt=a(373),At=a(385),Nt=a(386);var Mt=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",a=t.toString().split("").reverse(),n=[a[0]],r=1;r<a.length;r++)r%3===0&&n.push(e),n.push(a[r]);return n.reverse()},It=Object(i.a)({root:{width:"100%",position:"absolute",bottom:"1em",left:"50%",color:"#9e9e9e",transform:"translateX(-50%)",textIndent:"3em",fontSize:".8em"},updateDateInfo:{position:"absolute",right:10,bottom:0,color:pt.palette.success.main},hidden:{display:"none"}});function Ct(){var t=It(),e=Object(m.c)((function(t){return t.app.lastUpdateDate})),a=Object(m.c)((function(t){return t.app.increments.days})),n=Object(m.c)((function(t){return t.app.filterByYear}));return Object(Z.jsxs)("div",{className:t.root,children:[e," ",Object(Z.jsxs)("span",{className:a>0&&"total"===n?t.updateDateInfo:t.hidden,children:["last ",Object(Z.jsx)("b",{children:a})," days"]})]})}var Dt=Object(i.a)({root:{maxWidth:300,width:"100%",margin:"0 auto 1em",position:"relative","& .MuiCardHeader-title":{fontSize:"1.7em",textIndent:"-1em",fontWeight:500},"& .MuiCardHeader-subheader":{position:"absolute",right:"1em",top:"50%",transform:"translateY(-50%)",color:pt.palette.success.main,transition:"all .3s"}},totalDownloadsHeader:{"& .MuiCardHeader-content":{marginTop:"-1em"}}});function kt(t){var e=t.platform,a=t.downloads,n=Dt(),r=Object(m.b)(),o=Object(m.c)((function(t){return t.app.increments[e]})),s=Object(m.c)((function(t){return t.app.filterByYear})),c=Object(m.c)((function(t){return t.app.dataType})),i=o!==a&&o>0&&"total"===s&&"+".concat(o);return Object(Z.jsxs)(ut.a,{className:n.root,children:[Object(Z.jsx)(At.a,{className:"total"===e?n.totalDownloadsHeader:"",avatar:Object(Z.jsx)(Nt.a,{"aria-label":"recipe",style:{backgroundColor:pt.palette.platforms[e]},onClick:function(){return"total"===e&&r(z(c))},children:pt.icons["total"===e?c:e]}),title:Mt(a),subheader:i}),"total"===e&&Object(Z.jsx)(Ct,{})]})}var Et=a(383),Tt=Object(i.a)({root:{width:"100%",justifyContent:"center",alignItems:"center",marginTop:"1em"}});function Yt(){var t=Tt(),e=Object(m.c)((function(t){return t.app.serverErrorMessage}));return Object(Z.jsx)(Et.a,{className:t.root,severity:"error",children:e||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0438\u0441\u044c!"})}var _t=Object(i.a)({root:{display:"flex",justifyContent:"center",margin:"1em auto 0","& > button":{margin:"0 .45em"}}});function Lt(){var t=_t(),e=Object(m.c)((function(t){return t.app.dataByYears})),a=Object(m.c)((function(t){return t.app.filterByYear})),n=Object(m.c)((function(t){return t.app.serverError})),r=Object(m.b)(),o=Object.keys(e).reverse().map((function(t,e){return Object(Z.jsx)(j.a,{variant:a===t?"contained":"outlined",color:"primary",onClick:function(){return r(P(t))},children:t},e)}));return n?Object(Z.jsx)(Yt,{}):Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsxs)("div",{className:t.root,children:[Object(Z.jsx)(j.a,{variant:"total"===a?"contained":"outlined",color:"primary",onClick:function(){return r(P("total"))},children:"All"}),o]})})}var Ft=a(36);function Pt(t){var e=t.dataByPlatforms,a=function(){var t=["Android","iOS"],a=e.reduce((function(t,e){return t+e}));return t.forEach((function(n,r){t[r]=n+" "+(e[r]/a*100).toFixed(2)+"%"})),t},n={labels:a(),datasets:[{label:a(),data:e,backgroundColor:[pt.palette.platforms.Android,pt.palette.platforms.iOS],borderWidth:1}]};return Object(Z.jsx)("div",{children:Object(Z.jsx)(Ft.c,{data:n,options:{tooltips:{enabled:!1},legend:{display:!0,reverse:!0,onClick:function(){}}}})})}function Ht(t){var e=t.months,a=t.dataByMonths,n={labels:e,datasets:[{label:"Android",data:a.Android,backgroundColor:pt.palette.platforms.Android},{label:"iOS",data:a.iOS,backgroundColor:pt.palette.platforms.iOS}]};return Object(Z.jsx)(Ft.a,{data:n,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1}}})}function Wt(t){for(var e=t.months,a=t.dataByMonths,n=[],r=0;r<a.Android.length;r++)n.push(a.Android[r]+a.iOS[r]);var o={labels:e,datasets:[{label:"",data:n,backgroundColor:$.a[500],fill:!1,pointRadius:6,pointHoverRadius:10}]};return Object(Z.jsx)(Ft.b,{data:o,options:{legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}var Jt=Object(i.a)({block:{marginTop:"1.5em"},standout:{marginTop:"1.5em",marginBottom:"1em"}});var Ut=a(375),zt=a(379),Rt=a(378),qt=a(374),Zt=a(376),Gt=a(377),Vt=a(330),Xt=a(150),Kt=a.n(Xt),Qt=Object(i.a)({table:{marginTop:"1em",marginBottom:30},Android:{color:pt.palette.platforms.Android},iOS:{color:pt.palette.platforms.iOS},total:{color:pt.palette.platforms.total},diff:{color:pt.palette.primary.main},months:{width:70,padding:10,whiteSpace:"nowrap"},td:{padding:6,whiteSpace:"nowrap"},success:{color:pt.palette.success.main,fontWeight:700},warning:{color:pt.palette.warning.main,fontWeight:700},charts:{marginBottom:30}});var $t=Object(i.a)({block:{marginTop:"1.5em"},standout:{marginTop:"1.5em",marginBottom:"1em"}});var te={downloads:function(t){var e=t.data,a=Jt();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.standout,children:Object(Z.jsx)(kt,{platform:"total",downloads:e.total})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsx)(kt,{platform:"Android",downloads:e.Android})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsx)(kt,{platform:"iOS",downloads:e.iOS})}),Object(Z.jsx)(Lt,{}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.block,children:Object(Z.jsx)(Wt,{months:e.months,dataByMonths:e.dataByMonths})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.block,children:Object(Z.jsx)(Ht,{months:e.months,dataByMonths:e.dataByMonths})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.standout,children:Object(Z.jsx)(Pt,{dataByPlatforms:[e.Android,e.iOS]})})]})},active:function(t){for(var e=t.data,a=Qt(),n=Object(m.c)((function(t){return t.app.dataByYears})),r=Object(m.c)((function(t){return t.app.filterByYear})),o=[],s=function(t,e,a,n,r,o){return{month:t,Android:e,iOS:a,total:n,diff:r,color:o}},c=function(t,a){var o=e.dataByMonths.Android[a-1],s=e.dataByMonths.iOS[a-1];if(0===a&&"total"!==r&&r>2019){var c=n[r-1].dataByMonths.Android,i=n[r-1].dataByMonths.iOS;o=c[c.length-1],s=i[i.length-1]}return t-(o+s)||""},i=0;i<e.months.length;i++){var l=e.months[i],d=e.dataByMonths.Android[i],j=e.dataByMonths.iOS[i],p=d+j,u=c(p,i);o.unshift(s(l,d,j,p,u,u>0?"success":"warning"))}return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Lt,{}),Object(Z.jsx)(qt.a,{component:Vt.a,className:a.table,children:Object(Z.jsxs)(Ut.a,{size:"small","aria-label":"activity table",children:[Object(Z.jsx)(Zt.a,{children:Object(Z.jsxs)(Gt.a,{children:[Object(Z.jsx)(Rt.a,{}),Object(Z.jsx)(Rt.a,{align:"center",className:a.Android,children:pt.icons.Android}),Object(Z.jsx)(Rt.a,{align:"center",className:a.iOS,children:pt.icons.iOS}),Object(Z.jsx)(Rt.a,{align:"center",className:a.total,children:pt.icons.active}),Object(Z.jsx)(Rt.a,{align:"center",className:a.diff,children:Object(Z.jsx)(Kt.a,{})})]})}),Object(Z.jsx)(zt.a,{children:o.map((function(t){return Object(Z.jsxs)(Gt.a,{children:[Object(Z.jsx)(Rt.a,{component:"th",scope:"row",className:a.months,children:t.month}),Object(Z.jsx)(Rt.a,{align:"center",className:a.td,children:Mt(t.Android)}),Object(Z.jsx)(Rt.a,{align:"center",className:a.td,children:Mt(t.iOS)}),Object(Z.jsx)(Rt.a,{align:"center",className:a.td,children:Mt(t.total)}),Object(Z.jsxs)(Rt.a,{align:"center",className:"".concat(a.td," ").concat(a[t.color]),children:["success"===t.color&&"+",Mt(t.diff)]})]},t.month)}))})]})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.charts,children:Object(Z.jsx)(Wt,{months:e.months,dataByMonths:e.dataByMonths})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.charts,children:Object(Z.jsx)(Pt,{dataByPlatforms:[e.Android,e.iOS]})})]})},sales:function(t){var e=t.data,a=$t();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.standout,children:Object(Z.jsx)(kt,{platform:"total",downloads:e.total})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsx)(kt,{platform:"Android",downloads:e.Android})}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsx)(kt,{platform:"iOS",downloads:e.iOS})}),Object(Z.jsx)(Lt,{}),Object(Z.jsx)(Bt.a,{item:!0,xs:12,className:a.block,children:Object(Z.jsx)(Wt,{months:e.months,dataByMonths:e.dataByMonths})})]})}};function ee(t){var e=t.type,a=t.data,n=te[e];return Object(Z.jsx)(n,{data:a})}var ae=Object(i.a)({root:{width:"100%",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"}});var ne=function(){var t=ae(),e=Object(m.c)((function(t){return t.app.pending})),a=Object(m.c)((function(t){return t.app.data})),r=Object(m.c)((function(t){return t.app.dataType})),o=Object(m.c)((function(t){return t.app.isLoggedIn})),s=Object(m.c)((function(t){return t.app.serverError})),c=Object(m.b)();return Object(n.useEffect)((function(){c(z())}),[c]),e?Object(Z.jsx)(xt,{}):o?Object(Z.jsxs)("div",{className:t.root,children:[Object(Z.jsxs)(Bt.a,{container:!0,children:[Object(Z.jsx)(Bt.a,{item:!0,xs:12,children:Object(Z.jsx)(ft,{})}),Object(Z.jsx)(ee,{type:r,data:a})]}),Object(Z.jsx)("br",{})]}):s?Object(Z.jsx)(wt,{}):Object(Z.jsx)(V,{})},re=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,387)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;a(t),n(t),r(t),o(t),s(t)}))};var oe=function(t){return function(e){return function(a){var n=localStorage.getItem("amp_last_downloads")||new Date;if(e(a),"app/setData"===a.type){var r=a.payload.type,o=C(w),s=t.getState().app.data,c=JSON.parse(localStorage.getItem("former_".concat(r,"_data")));if("downloads"===r&&c){for(var i=0,l=Object.keys(o);i<l.length;i++){var d=l[i];o[d]=s[d]-c[d]}o.days=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=864e5,n=new Date(t),r=new Date(e);return n.setHours(r.getHours()),n.setMinutes(r.getMinutes()),Math.round(Math.abs((n-r)/a))}(n),t.dispatch(F(o))}localStorage.setItem("former_".concat(r,"_data"),JSON.stringify(s));var j=t.getState().app.filterByYear;"total"!==j&&t.dispatch(P(j))}}}},se=Object(h.a)({reducer:{app:U},middleware:function(t){return t().concat(oe)}}),ce=a(380),ie=a(381);s.a.render(Object(Z.jsxs)(r.a.StrictMode,{children:[Object(Z.jsx)(ce.a,{}),Object(Z.jsx)(ie.a,{theme:pt,children:Object(Z.jsx)(m.a,{store:se,children:Object(Z.jsx)("div",{className:"App",children:Object(Z.jsx)(ne,{})})})})]}),document.getElementById("root")),re()}},[[328,1,2]]]);
//# sourceMappingURL=main.2d550504.chunk.js.map