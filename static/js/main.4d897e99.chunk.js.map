{"version":3,"sources":["util/schemas sync /^/.//.*DataSchema/.json$","util/API.js","util/InitialDataState.js","util/DataValidator.js","util/ObjectsCopier.js","util/DataCombiner.js","util/DateFormatter.js","util/messages.js","redux/reducer.js","components/LoginPage.js","theme.js","components/Navigation.js","components/Pending.js","components/ErrorPage.js","util/NumbersFormatter.js","components/InfoCard.js","components/ServerAlert.js","components/FilterByYearButtons.js","components/PieChart.js","components/GroupedBar.js","components/LineChart.js","components/screens/DownloadsScreen.js","components/screens/ActivityScreen.js","components/screens/ScreenComponent.js","App.js","reportWebVitals.js","redux/middleware.js","redux/store.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","API","axios","create","baseURL","headers","responseType","interceptors","request","use","config","localStorage","getItem","url","error","Promise","reject","data","total","Android","iOS","months","dataByMonths","InitialIncrementsState","DataValidator","dataSchema","ajv","Ajv","schema","require","validate","compile","year","hasOwnProperty","call","ObjectsCopier","obj","JSON","parse","stringify","DataCombiner","result","InitialDataState","push","DateFormatter","dateToFormat","Date","toDateString","split","monthName","error419Message","slice","createSlice","name","initialState","pending","isLoggedIn","dataByYears","dataType","filterByYear","increments","lastUpdateDate","serverError","serverErrorMessage","reducers","setCode","state","action","payload","setItem","setPending","setIsLoggedIn","setData","type","setDataType","setIncrements","resetIncrements","getDataByYear","handleServerError","formerDownloadsData","removeServerError","actions","fetchAmplitudeData","dispatch","a","get","response","status","message","includes","useStyles","makeStyles","theme","root","display","height","alignItems","justifyContent","input","fontSize","width","marginRight","buttonWrapper","position","padding","LoginPage","classes","useState","isValidCode","setValidCode","useDispatch","handleSubmit","className","noValidate","autoComplete","onSubmit","FormControl","Input","placeholder","value","onChange","event","target","length","autoFocus","required","Button","variant","color","disabled","onClick","createMuiTheme","palette","primary","main","success","green","warning","red","platforms","purple","lightGreen","lightBlue","icons","downloads","active","flexGrow","maxWidth","margin","tab","minHeight","flexDirection","Navigation","useSelector","app","Card","Tabs","indicatorColor","textColor","aria-label","i","Tab","icon","label","progress","Pending","CircularProgress","marginTop","ErrorPage","NumbersFormatter","number","divider","nums","toString","reverse","formatted","textIndent","fontWeight","right","top","transform","transition","totalDownloadsHeader","updateDate","bottom","left","InfoCard","platform","yearFilter","subheader","CardHeader","avatar","Avatar","style","backgroundColor","title","ServerAlert","Alert","severity","FilterByYearButtons","years","filterButtons","Grid","item","xs","PieChart","dataByPlatforms","getLabels","lables","sum","reduce","b","forEach","toFixed","labels","datasets","borderWidth","options","tooltips","enabled","legend","GroupedBar","scales","yAxes","ticks","beginAtZero","LineChart","totalDownloads","fill","pointRadius","pointHoverRadius","block","standout","marginBottom","table","diff","td","charts","screens","rows","createRow","month","getMonthDiff","currentTotalUsers","monthIndex","formerAndroidUsers","formerOSUsers","prevYearAndroidUsers","prevYeariOSUsers","AndroidUsers","iOSUsers","unshift","TableContainer","component","Paper","Table","size","TableHead","TableRow","TableCell","align","TableBody","row","scope","ScreenComponent","Screen","marginLeft","App","useEffect","container","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","middleware","store","next","freshDownloadsData","getState","setTimeout","configureStore","reducer","getDefaultMiddleware","concat","ReactDOM","render","StrictMode","CssBaseline","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.4d897e99.chunk.js","sourcesContent":["var map = {\n\t\"./AmplitudeDataSchema.json\": 218\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 217;","import axios from \"axios\";\n\nconst API = axios.create({\n  baseURL: `https://moble.epicentrk.ua/api/`,\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n  responseType: \"json\",\n});\n\nAPI.interceptors.request.use(\n  function (config) {\n    // Do something before request is sent\n    const code = localStorage.getItem(\"amp_code\");\n    if (code) config.url += `/${code}`;\n    return config;\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\nexport default API;\n","const data = {\n  total: 0,\n  Android: 0,\n  iOS: 0,\n  months: [],\n  dataByMonths: {\n    Android: [],\n    iOS: [],\n  },\n};\n\nexport const InitialIncrementsState = (({ total, Android, iOS }) => ({\n  total,\n  Android,\n  iOS,\n}))(data);\n\nexport default data;\n","import Ajv from \"ajv\";\n\nfunction DataValidator(data, dataSchema = 'Amplitude') {\n  const ajv = new Ajv();\n  const schema = require(`./schemas/${dataSchema}DataSchema.json`);\n  const validate = ajv.compile(schema);\n  for (const year in data) {\n    if (Object.hasOwnProperty.call(data, year)) {\n      if (!validate(data[year])) {\n        throw new Error(`${dataSchema} Update Error! Try again later`);\n      }\n    }\n  }\n}\n\nexport default DataValidator;\n","function ObjectsCopier(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport default ObjectsCopier;\n","import InitialDataState from \"util/InitialDataState\";\nimport ObjectsCopier from \"util/ObjectsCopier\";\n\nfunction DataCombiner(data) {\n  const result = ObjectsCopier(InitialDataState);\n\n  for (const year in data) {\n    if (Object.hasOwnProperty.call(data, year)) {\n      result.total += data[year].total;\n      result.Android += data[year].Android;\n      result.iOS += data[year].iOS;\n      result.months.push(...data[year].months);\n      result.dataByMonths.Android.push(\n        ...data[year].dataByMonths.Android\n      );\n      result.dataByMonths.iOS.push(...data[year].dataByMonths.iOS);\n    }\n  }\n\n  return result;\n}\n\nexport default DataCombiner;\n","/* eslint-disable no-unused-vars */\nconst DateFormatter = (dateToFormat) => {\n  const date = new Date(dateToFormat);\n  const [dayName, monthName, dayNumber, fullYear] = date\n    .toDateString()\n    .split(\" \");\n\n  return dayNumber + \" \" + monthName + \" \" + fullYear;\n};\n\nexport default DateFormatter;\n","export const dataUpdateFailureMessage =\n  \"Ошибка на сервере, данные не обновились!\";\nexport const error419Message =\n  \"Слишком много запросов, данные не обновились! Повторите через минуту\";\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport API from \"util/API\";\nimport InitialDataState, {\n  InitialIncrementsState,\n} from \"util/InitialDataState\";\nimport DataValidator from \"util/DataValidator\";\nimport DataCombiner from \"util/DataCombiner\";\nimport DateFormatter from \"util/DateFormatter\";\nimport { error419Message } from \"util/messages\";\n\nexport const slice = createSlice({\n  name: \"app\",\n  initialState: {\n    code: \"\",\n    pending: true,\n    isLoggedIn: false,\n    data: InitialDataState,\n    dataByYears: {},\n    dataType: \"downloads\",\n    filterByYear: \"total\",\n    increments: InitialIncrementsState,\n    lastUpdateDate: null,\n    serverError: false,\n    serverErrorMessage: \"\",\n  },\n  reducers: {\n    setCode: (state, action) => {\n      state.code = action.payload;\n      localStorage.setItem(\"amp_code\", action.payload);\n    },\n    setPending: (state, action) => {\n      state.pending = action.payload;\n    },\n    setIsLoggedIn: (state, action) => {\n      state.isLoggedIn = action.payload;\n    },\n    setData: (state, { payload }) => {\n      state.data = DataCombiner(payload.data);\n      state.dataByYears = payload.data;\n      const lastUpdateDate = DateFormatter(new Date());\n      state.lastUpdateDate = lastUpdateDate;\n      localStorage.setItem(`amp_last_${payload.type}`, lastUpdateDate);\n    },\n    setDataType: (state, action) => {\n      state.dataType = action.payload;\n    },\n    setIncrements: (state, action) => {\n      state.increments = action.payload;\n    },\n    resetIncrements: (state) => {\n      state.increments = InitialIncrementsState;\n    },\n    getDataByYear: (state, action) => {\n      const year = action.payload;\n      if (year in state.dataByYears) {\n        state.data = state.dataByYears[year];\n      } else {\n        state.data = DataCombiner(state.dataByYears);\n      }\n      state.filterByYear = year;\n    },\n    handleServerError: (state, action) => {\n      state.serverError = true;\n      state.serverErrorMessage = action.payload;\n\n      const formerDownloadsData = JSON.parse(\n        localStorage.getItem(\"former_downloads_data\")\n      );\n      if (formerDownloadsData) {\n        state.data = formerDownloadsData;\n        state.isLoggedIn = true;\n        state.lastUpdateDate = localStorage.getItem(\"amp_last_update\");\n      }\n    },\n    removeServerError: (state) => {\n      state.serverError = false;\n      state.serverErrorMessage = \"\";\n    },\n  },\n});\n\nexport const {\n  setCode,\n  setPending,\n  setIsLoggedIn,\n  setData,\n  setIncrements,\n  resetIncrements,\n  getDataByYear,\n  setDataType,\n  handleServerError,\n  removeServerError\n} = slice.actions;\n\nexport default slice.reducer;\n\nexport function fetchAmplitudeData(type = \"downloads\") {\n  return async (dispatch) => {\n    dispatch(setPending(true));\n    dispatch(setDataType(type));\n    dispatch(removeServerError());\n\n    try {\n      const response = await API.get(`app-${type}`);\n      DataValidator(response.data);\n      dispatch(setData({ data: response.data, type }));\n      dispatch(setIsLoggedIn(true));\n    } catch (error) {\n      if (error.response && error.response.status === 403) {\n        dispatch(setIsLoggedIn(false));\n      } else {\n        let message = error.message;\n        if (message.includes(\"429\")) message = error419Message;\n        dispatch(handleServerError(message));\n      }\n    } finally {\n      dispatch(setPending(false));\n    }\n  };\n}\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport Button from \"@material-ui/core/Button\";\nimport LockOpenIcon from \"@material-ui/icons/LockOpen\";\nimport { useDispatch } from \"react-redux\";\nimport { fetchAmplitudeData } from \"redux/reducer\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  input: {\n    fontSize: 32,\n    width: 190,\n    marginRight: 10,\n  },\n  buttonWrapper: {\n    position: \"relative\",\n    \"& > button\": {\n      padding: \"13px 26px\",\n    },\n  },\n}));\n\nexport default function LoginPage() {\n  const classes = useStyles();\n  const [code, setCode] = useState(\"\");\n  const [isValidCode, setValidCode] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    const code = event.target.value;\n    setCode(code);\n    setValidCode(code.length === 10);\n  };\n\n  const handleSubmit = () => {\n    localStorage.setItem(\"amp_code\", code);\n    dispatch(fetchAmplitudeData());\n  };\n\n  return (\n    <form\n      className={classes.root}\n      noValidate\n      autoComplete=\"off\"\n      onSubmit={handleSubmit}\n    >\n      <FormControl>\n        <Input\n          className={classes.input}\n          placeholder=\"CODE\"\n          value={code}\n          onChange={handleChange}\n          autoFocus\n          required={true}\n        />\n      </FormControl>\n      <div className={classes.buttonWrapper}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!isValidCode}\n          onClick={handleSubmit}\n          type=\"submit\"\n        >\n          <LockOpenIcon />\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport { lightGreen, lightBlue, purple, green, red } from \"@material-ui/core/colors\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport AppleIcon from \"@material-ui/icons/Apple\";\nimport HowToRegIcon from '@material-ui/icons/HowToReg';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0071d3\",\n    },\n    success: {\n      main: green[800]\n    },\n    warning: {\n      main: red[800]\n    },\n    platforms: {\n      total: purple[500],\n      Android: lightGreen[500],\n      iOS: lightBlue[500],\n    },\n  },\n  icons: {\n    total: <GetAppIcon />,\n    Android: <AndroidIcon />,\n    iOS: <AppleIcon />,\n    downloads: <GetAppIcon />,\n    active: <HowToRegIcon />,\n  },\n});\n\nexport default theme;\n","import React from 'react';\nimport theme from \"theme\";\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchAmplitudeData } from \"redux/reducer\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    maxWidth: 300,\n    margin: 'auto'\n  },\n  tab: {\n    minHeight: 50,\n    \"& .MuiTab-wrapper\": {\n      flexDirection: \"row\",\n      alignItems: \"flex-start\"\n    }\n  }\n});\n\nexport default function Navigation() {\n  const classes = useStyles();\n  const tabs = [\"downloads\", \"active\"];\n  const dataType = useSelector((state) => state.app.dataType);\n  const dispatch = useDispatch();\n\n  const handleChange = (event, type) => {\n    dispatch(fetchAmplitudeData(type));\n  };\n\n  return (\n    <Card className={classes.root}>\n      <Tabs\n        value={dataType}\n        onChange={handleChange}\n        variant=\"fullWidth\"\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        aria-label=\"navigation\"\n      >\n        {tabs.map((tab, i) =>\n          <Tab icon={theme.icons[tab]} value={tab} label={tab} key={i} className={classes.tab} />\n        )}\n      </Tabs>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Navigation from \"components/Navigation\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useSelector } from \"react-redux\";\n\nconst useStyles = makeStyles((theme) => ({\n  progress: {\n    display: \"flex\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function Pending() {\n  const classes = useStyles();\n  const isLoggedIn = useSelector((state) => state.app.isLoggedIn);\n\n  return (\n    <>\n      {isLoggedIn && <Navigation />}\n      <div className={classes.progress}>\n        <CircularProgress />\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ErrorOutlineIcon from \"@material-ui/icons/ErrorOutline\";\nimport { red } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\n\nconst useStyles = makeStyles({\n  root: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: red[900],\n  },\n  icon: {\n    fontSize: 100,\n  },\n  message: {\n    fontSize: 30,\n    marginTop: 30,\n  },\n});\n\nexport default function ErrorPage() {\n  const classes = useStyles();\n  const message = useSelector((state) => state.app.serverErrorMessage);\n\n  return (\n    <div className={classes.root}>\n      <ErrorOutlineIcon className={classes.icon} />\n      <div className={classes.message}>{message}</div>\n    </div>\n  );\n}\n","function NumbersFormatter(number, divider = \" \") {\n  const nums = number.toString().split(\"\").reverse();\n  const formatted = [nums[0]];\n  for (let i = 1; i < nums.length; i++) {\n    if (i % 3 === 0) formatted.push(divider);\n    formatted.push(nums[i]);\n  }\n  return formatted.reverse();\n}\n\nexport default NumbersFormatter;\n","import { useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport theme from \"theme\";\nimport NumbersFormatter from \"util/NumbersFormatter\";\nimport { useDispatch } from \"react-redux\";\nimport { fetchAmplitudeData } from \"redux/reducer\";\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 300,\n    width: \"100%\",\n    margin: \"0 auto 1em\",\n    position: \"relative\",\n    \"& .MuiCardHeader-title\": {\n      fontSize: \"1.7em\",\n      textIndent: \"-1em\",\n      fontWeight: 500,\n    },\n    \"& .MuiCardHeader-subheader\": {\n      position: \"absolute\",\n      right: \"1em\",\n      top: \"50%\",\n      transform: \"translateY(-50%)\",\n      color: theme.palette.success.main,\n      transition: \"all .3s\",\n    },\n  },\n  totalDownloadsHeader: {\n    \"& .MuiCardHeader-content\": {\n      marginTop: \"-1em\",\n    },\n  },\n  updateDate: {\n    width: \"100%\",\n    position: \"absolute\",\n    bottom: \"1em\",\n    left: \"50%\",\n    color: \"#9e9e9e\",\n    transform: \"translateX(-50%)\",\n    textIndent: \"3em\",\n    fontSize: \".8em\",\n  },\n});\n\nexport default function InfoCard({ platform, downloads }) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const increments = useSelector((state) => state.app.increments[platform]);\n  const updateDate = useSelector((state) => state.app.lastUpdateDate);\n  const yearFilter = useSelector((state) => state.app.filterByYear);\n  const dataType = useSelector((state) => state.app.dataType);\n  const subheader =\n    increments !== downloads && increments > 0 && yearFilter === \"total\"\n      ? `+${increments}`\n      : false;\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        className={platform === \"total\" ? classes.totalDownloadsHeader : \"\"}\n        avatar={\n          <Avatar\n            aria-label=\"recipe\"\n            style={{ backgroundColor: theme.palette.platforms[platform] }}\n            onClick={() => platform === \"total\" && dispatch(fetchAmplitudeData(dataType))}\n          >\n            {theme.icons[platform === \"total\" ? dataType : platform]}\n          </Avatar>\n        }\n        title={NumbersFormatter(downloads)}\n        subheader={subheader}\n      />\n      {platform === \"total\" && updateDate && (\n        <div className={classes.updateDate}>{updateDate}</div>\n      )}\n    </Card>\n  );\n}\n","import React from \"react\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport { dataUpdateFailureMessage } from \"util/messages\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    justifyContent: \"center\",\n    marginTop: \"1em\",\n  },\n});\n\nexport default function ServerAlert() {\n  const classes = useStyles();\n  const message = useSelector((state) => state.app.serverErrorMessage);\n\n  return (\n    <Alert className={classes.root} severity=\"error\">\n      {message || dataUpdateFailureMessage}\n    </Alert>\n  );\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { getDataByYear } from \"redux/reducer\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ServerAlert from \"components/ServerAlert\";\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    margin: \"1em auto 0\",\n    \"& > button\": {\n      margin: \"0 .45em\",\n    },\n  },\n});\n\nexport default function FilterByYearButtons() {\n  const classes = useStyles();\n  const years = useSelector((state) => state.app.dataByYears);\n  const yearFilter = useSelector((state) => state.app.filterByYear);\n  const serverError = useSelector((state) => state.app.serverError);\n  const dispatch = useDispatch();\n  const filterButtons = Object.keys(years)\n    .reverse()\n    .map((year, i) => {\n      return (\n        <Button\n          variant={yearFilter === year ? \"contained\" : \"outlined\"}\n          color=\"primary\"\n          key={i}\n          onClick={() => dispatch(getDataByYear(year))}\n        >\n          {year}\n        </Button>\n      );\n    });\n\n  if (serverError) return <ServerAlert />\n\n  return (\n    <Grid item xs={12}>\n      <div className={classes.root}>\n        <Button\n          variant={yearFilter === \"total\" ? \"contained\" : \"outlined\"}\n          color=\"primary\"\n          onClick={() => dispatch(getDataByYear(\"total\"))}\n        >\n          All\n      </Button>\n        {filterButtons}\n      </div>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { Pie } from \"@reactchartjs/react-chart.js\";\nimport theme from \"theme\";\n\nexport default function PieChart({ dataByPlatforms }) {\n  const getLabels = () => {\n    let lables = [\"Android\", \"iOS\"];\n    const sum = dataByPlatforms.reduce((a, b) => a + b);\n    lables.forEach((label, i) => {\n      lables[i] = label + \" \" + ((dataByPlatforms[i] / sum) * 100).toFixed(2) + \"%\";\n    });\n\n    return lables;\n  };\n  const data = {\n    labels: getLabels(),\n    datasets: [\n      {\n        label: getLabels(),\n        data: dataByPlatforms,\n        backgroundColor: [\n          theme.palette.platforms.Android,\n          theme.palette.platforms.iOS,\n        ],\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const options = {\n    tooltips: {\n      enabled: false,\n    },\n    legend: {\n      display: true,\n      reverse: true,\n      onClick: function () {\n        return;\n      },\n    },\n  };\n\n  return (\n    <div>\n      <Pie data={data} options={options} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Bar } from \"@reactchartjs/react-chart.js\";\nimport theme from \"theme\";\n\nexport default function GroupedBar({ months, dataByMonths }) {\n  const data = {\n    labels: months,\n    datasets: [\n      {\n        label: \"Android\",\n        data: dataByMonths.Android,\n        backgroundColor: theme.palette.platforms.Android,\n      },\n      {\n        label: \"iOS\",\n        data: dataByMonths.iOS,\n        backgroundColor: theme.palette.platforms.iOS,\n      },\n    ],\n  };\n\n  const options = {\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n          },\n        },\n      ],\n    },\n    legend: {\n      display: false,\n    },\n  };\n\n  return <Bar data={data} options={options} />;\n}\n","import React from \"react\";\nimport { Line } from \"@reactchartjs/react-chart.js\";\nimport { purple } from \"@material-ui/core/colors\";\n\nexport default function LineChart({ months, dataByMonths }) {\n  const totalDownloads = [];\n  for (let i = 0; i < dataByMonths.Android.length; i++) {\n    totalDownloads.push(\n      dataByMonths.Android[i] + dataByMonths.iOS[i]\n    );\n  }\n\n  const data = {\n    labels: months,\n    datasets: [\n      {\n        label: \"\",\n        data: totalDownloads,\n        backgroundColor: purple[500],\n        fill: false,\n        pointRadius: 6,\n        pointHoverRadius: 10,\n      },\n    ],\n  };\n\n  const options = {\n    legend: {\n      display: false,\n    },\n    scales: {\n      yAxes: [\n        {\n          ticks: {\n            beginAtZero: true,\n          },\n        },\n      ],\n    },\n  };\n\n  return <Line data={data} options={options} />;\n}\n","import React from 'react'\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InfoCard from \"components/InfoCard\";\nimport FilterByYearButtons from \"components/FilterByYearButtons\";\nimport PieChart from \"components/PieChart\";\nimport GroupedBar from \"components/GroupedBar\";\nimport LineChart from \"components/LineChart\";\n\nconst useStyles = makeStyles({\n  block: {\n    marginTop: \"1.5em\",\n  },\n  standout: {\n    marginTop: \"1.5em\",\n    marginBottom: \"1em\",\n  },\n});\n\nexport default function DownloadsScreen({ data }) {\n  const classes = useStyles();\n  return (\n    <>\n      <Grid item xs={12} className={classes.standout}>\n        <InfoCard platform=\"total\" downloads={data.total} />\n      </Grid>\n\n      <Grid item xs={12}>\n        <InfoCard\n          platform=\"Android\"\n          downloads={data.Android}\n        />\n      </Grid>\n\n      <Grid item xs={12}>\n        <InfoCard platform=\"iOS\" downloads={data.iOS} />\n      </Grid>\n\n      <FilterByYearButtons />\n\n      <Grid item xs={12} className={classes.block}>\n        <LineChart\n          months={data.months}\n          dataByMonths={data.dataByMonths}\n        />\n      </Grid>\n\n      <Grid item xs={12} className={classes.block}>\n        <GroupedBar\n          months={data.months}\n          dataByMonths={data.dataByMonths}\n        />\n      </Grid>\n\n      <Grid item xs={12} className={classes.standout}>\n        <PieChart dataByPlatforms={[data.Android, data.iOS]} />\n      </Grid>\n    </>\n  )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport FilterByYearButtons from \"components/FilterByYearButtons\";\nimport theme from \"theme\"\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport { useSelector } from 'react-redux'\nimport NumbersFormatter from \"util/NumbersFormatter\"\nimport Grid from \"@material-ui/core/Grid\";\nimport LineChart from \"components/LineChart\";\nimport PieChart from \"components/PieChart\";\n\nconst useStyles = makeStyles({\n  table: {\n    marginTop: \"1em\",\n    marginBottom: 30\n  },\n  Android: {\n    color: theme.palette.platforms.Android\n  },\n  iOS: {\n    color: theme.palette.platforms.iOS\n  },\n  total: {\n    color: theme.palette.platforms.total\n  },\n  diff: {\n    color: theme.palette.primary.main\n  },\n  months: {\n    width: 70,\n    padding: 10\n  },\n  td: {\n    padding: 6\n  },\n  success: {\n    color: theme.palette.success.main,\n    fontWeight: 700\n  },\n  warning: {\n    color: theme.palette.warning.main,\n    fontWeight: 700\n  },\n  charts: {\n    marginBottom: 30\n  }\n});\n\nexport default function ActivityScreen({ data }) {\n  const classes = useStyles()\n  const dataByYears = useSelector((state) => state.app.dataByYears)\n  const year = useSelector((state) => state.app.filterByYear)\n\n  const rows = [];\n  const createRow = (month, Android, iOS, total, diff, color) => {\n    return { month, Android, iOS, total, diff, color }\n  }\n  const getMonthDiff = (currentTotalUsers, monthIndex) => {\n    let formerAndroidUsers = data.dataByMonths.Android[monthIndex - 1]\n    let formerOSUsers = data.dataByMonths.iOS[monthIndex - 1]\n    if (monthIndex === 0 && year !== \"total\" && year > 2019) {\n      const prevYearAndroidUsers = dataByYears[year - 1].dataByMonths.Android\n      const prevYeariOSUsers = dataByYears[year - 1].dataByMonths.iOS\n      formerAndroidUsers = prevYearAndroidUsers[prevYearAndroidUsers.length - 1]\n      formerOSUsers = prevYeariOSUsers[prevYeariOSUsers.length - 1]\n    }\n    return currentTotalUsers - (formerAndroidUsers + formerOSUsers) || '';\n  }\n\n  for (let i = 0; i < data.months.length; i++) {\n    const month = data.months[i];\n    const AndroidUsers = data.dataByMonths.Android[i]\n    const iOSUsers = data.dataByMonths.iOS[i]\n    const total = AndroidUsers + iOSUsers\n    const diff = getMonthDiff(total, i);\n    rows.unshift(createRow(month, AndroidUsers, iOSUsers, total, diff, diff > 0 ? \"success\" : \"warning\"))\n  }\n\n  return (\n    <>\n      <FilterByYearButtons />\n      <TableContainer component={Paper} className={classes.table}>\n        <Table size=\"small\" aria-label=\"activity table\">\n          <TableHead>\n            <TableRow>\n              <TableCell></TableCell>\n              <TableCell align=\"center\" className={classes.Android}>{theme.icons.Android}</TableCell>\n              <TableCell align=\"center\" className={classes.iOS}>{theme.icons.iOS}</TableCell>\n              <TableCell align=\"center\" className={classes.total}>{theme.icons.active}</TableCell>\n              <TableCell align=\"center\" className={classes.diff}>{<TrendingUpIcon />}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <TableRow key={row.month}>\n                <TableCell component=\"th\" scope=\"row\" className={classes.months}>{row.month}</TableCell>\n                <TableCell align=\"center\" className={classes.td}>{NumbersFormatter(row.Android)}</TableCell>\n                <TableCell align=\"center\" className={classes.td}>{NumbersFormatter(row.iOS)}</TableCell>\n                <TableCell align=\"center\" className={classes.td}>{NumbersFormatter(row.total)}</TableCell>\n                <TableCell align=\"center\" className={`${classes.td} ${classes[row.color]}`}>\n                  {row.color === \"success\" && \"+\"}{NumbersFormatter(row.diff)}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <Grid item xs={12} className={classes.charts}>\n        <LineChart\n          months={data.months}\n          dataByMonths={data.dataByMonths}\n        />\n      </Grid>\n\n      <Grid item xs={12} className={classes.charts}>\n        <PieChart dataByPlatforms={[data.Android, data.iOS]} />\n      </Grid>\n    </>\n  );\n}\n","import React from 'react'\nimport DownloadsScreen from \"components/screens/DownloadsScreen\";\nimport ActivityScreen from \"components/screens/ActivityScreen\";\n\nconst screens = {\n  downloads: DownloadsScreen,\n  active: ActivityScreen,\n}\n\nexport default function ScreenComponent({ type, data }) {\n  const Screen = screens[type];\n\n  return <Screen data={data} />\n}\n","import \"./App.css\";\nimport { useEffect } from \"react\";\nimport LoginPage from \"./components/LoginPage\";\nimport Pending from \"./components/Pending\";\nimport Navigation from \"./components/Navigation\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport ScreenComponent from \"./components/screens/ScreenComponent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchAmplitudeData } from \"./redux/reducer\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    maxWidth: \"600px\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n});\n\nfunction App() {\n  const classes = useStyles();\n\n  const pending = useSelector((state) => state.app.pending);\n  const data = useSelector((state) => state.app.data);\n  const dataType = useSelector((state) => state.app.dataType);\n  const isLoggedIn = useSelector((state) => state.app.isLoggedIn);\n  const serverError = useSelector((state) => state.app.serverError);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchAmplitudeData());\n  }, [dispatch]);\n\n  if (pending) return <Pending />;\n  if (!isLoggedIn) {\n    return !serverError ? <LoginPage /> : <ErrorPage />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Navigation />\n        </Grid>\n\n        <ScreenComponent type={dataType} data={data} />\n\n      </Grid>\n      <br />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { setIncrements, resetIncrements, getDataByYear } from \"redux/reducer\";\nimport ObjectsCopier from \"util/ObjectsCopier\";\nimport { InitialIncrementsState } from \"util/InitialDataState\";\n\nconst middleware = (store) => (next) => (action) => {\n  next(action);\n\n  if (action.type === \"app/setData\") {\n    const type = action.payload.type;\n    const increments = ObjectsCopier(InitialIncrementsState);\n    const freshDownloadsData = store.getState().app.data;\n    const formerDownloadsData = JSON.parse(\n      localStorage.getItem(`former_${type}_data`)\n    );\n\n    if (formerDownloadsData) {\n      for (let platform of Object.keys(increments)) {\n        increments[platform] =\n          freshDownloadsData[platform] - formerDownloadsData[platform];\n      }\n    }\n\n    store.dispatch(setIncrements(increments));\n\n    localStorage.setItem(\n      `former_${type}_data`,\n      JSON.stringify(freshDownloadsData)\n    );\n\n    const filterByYear = store.getState().app.filterByYear;\n    if (filterByYear !== \"total\") {\n      store.dispatch(getDataByYear(filterByYear));\n    }\n\n    /** reset increments after 5 minutes */\n    setTimeout(() => {\n      store.dispatch(resetIncrements());\n    }, 1000 * 60 * 5);\n  }\n};\n\nexport default middleware;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport reducer from \"redux/reducer\";\nimport middleware from \"redux/middleware\";\n\nexport default configureStore({\n  reducer: {\n    app: reducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(middleware),\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport theme from \"./theme\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <ThemeProvider theme={theme}>\n      <Provider store={store}>\n        <div className=\"App\">\n          <App />\n        </div>\n      </Provider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}